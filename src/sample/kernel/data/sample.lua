kernel = plugin("sample.kernel")
_3d = plugin("plugin.graphics.3d")

tokens={}

storage = kernel.KernelStorage()
sample = kernel.KernelSampleTask(
    getattr(storage, "A+B").A,
    getattr(storage, "A+B").B,
    getattr(storage, "A+C").C,
    getattr(storage, "A+D").D)
tokens['sample'] = resources:load(sample)
world = BugEngine.World.World(storage, {sample.output})
tokens['world'] = resources:load(world)

e1 = world:spawn()
e2 = world:spawn()
e3 = world:spawn()
e4 = world:spawn()
e5 = world:spawn()
e6 = world:spawn()
e7 = world:spawn()
e8 = world:spawn()
e9 = world:spawn()
e10 = world:spawn()
e11 = world:spawn()
e12 = world:spawn()
e13 = world:spawn()
e14 = world:spawn()
e15 = world:spawn()
e16 = world:spawn()

world:addComponent(e1, kernel.A({value = 1}))
world:addComponent(e2, kernel.A({value = 2}))
world:addComponent(e2, kernel.B({value = 2}))
world:addComponent(e3, kernel.A({value = 3}))
world:addComponent(e3, kernel.B({value = 3}))
world:addComponent(e3, kernel.C({value = 3}))
world:addComponent(e4, kernel.A({value = 4}))
world:addComponent(e4, kernel.B({value = 4}))
world:addComponent(e4, kernel.C({value = 4}))
world:addComponent(e4, kernel.D({value = 4}))
world:addComponent(e5, kernel.A({value = 5}))
world:addComponent(e5, kernel.C({value = 5}))
world:addComponent(e6, kernel.A({value = 6}))
world:addComponent(e6, kernel.C({value = 6}))
world:addComponent(e6, kernel.D({value = 6}))
world:addComponent(e7, kernel.A({value = 7}))
world:addComponent(e7, kernel.D({value = 7}))
world:addComponent(e8, kernel.A({value = 8}))
world:addComponent(e8, kernel.C({value = 8}))
world:addComponent(e8, kernel.D({value = 8}))
world:addComponent(e9, kernel.B({value = 9}))
world:addComponent(e10, kernel.B({value = 10}))
world:addComponent(e10, kernel.C({value = 10}))
world:addComponent(e11, kernel.B({value = 11}))
world:addComponent(e11, kernel.C({value = 11}))
world:addComponent(e11, kernel.D({value = 11}))
world:addComponent(e12, kernel.C({value = 12}))
world:addComponent(e13, kernel.C({value = 13}))
world:addComponent(e13, kernel.D({value = 13}))
world:addComponent(e14, kernel.D({value = 14}))
world:addComponent(e15, kernel.C({value = 15}))
world:addComponent(e15, kernel.D({value = 15}))



print(world:hasComponent(e7, kernel.A))
print(world:hasComponent(e7, kernel.B))
print(world:hasComponent(e7, kernel.C))
print(world:hasComponent(e7, kernel.D))
print(world:hasComponent(e16, kernel.A))
print(world:hasComponent(e16, kernel.B))
print(world:hasComponent(e16, kernel.C))
print(world:hasComponent(e16, kernel.D))

world:unspawn(e1)
world:unspawn(e2)
world:unspawn(e3)
world:unspawn(e4)
world:unspawn(e5)
world:unspawn(e6)
world:unspawn(e7)
world:unspawn(e8)
world:unspawn(e9)
world:unspawn(e10)
world:unspawn(e11)
world:unspawn(e12)
world:unspawn(e13)
world:unspawn(e14)
world:unspawn(e15)
world:unspawn(e16)
