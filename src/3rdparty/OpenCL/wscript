import mak
from mak import module
from waflib.Logs import info,warn

def options(opt):
	pass

def setup(conf):
	if 'darwin' in conf.env.PLATFORM:
		conf.check_header('OpenCL/opencl.h', var='opencl_h')
	else:
		conf.check_header('opencl.h', var='opencl_h')
		conf.check_lib('opencl')

def build(bld):
	if bld.env.opencl_h or bld.env.PROJECTS:
		bld.m['OpenCL'] = module.util('OpenCL', [], '3rdparty', module.coptions(), module.coptions(libs=bld.env.opencl))
	else:
		bld.m['OpenCL'] = None

