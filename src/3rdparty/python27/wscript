
def options(opt):
    pass

def setup(conf):
    if 'posix' in conf.env.VALID_PLATFORMS:
        try:
            conf.pkg_config('python-2.7', var='3rdparty.python27')
        except Exception:
            pass
        else:
            conf.env.SYSTEM_PYTHON27 = True

def build(bld):
    if 'windows' in bld.env.VALID_PLATFORMS:
        bld.thirdparty('3rdparty.python27', bld.env, libs=['python27'], defines=['MS_NO_COREDLL=1'])
        bld.env.append_unique('FEATURES', ['python27'])
    elif bld.env.SYSTEM_PYTHON27:
        bld.env.append_unique('FEATURES', ['python27'])
