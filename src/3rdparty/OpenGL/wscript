import mak
from mak import module
from waflib.Logs import info,warn

def options(opt):
	pass

def setup(conf):
	if 'osx' in conf.env.PLATFORM:
		return
	elif 'win32' in conf.env.PLATFORM:
		conf.check_lib('OpenGL32', var='GL')
	else:
		conf.check_lib('GL', var='GL')

def build(bld):
	if bld.env.GL or 'osx' in bld.env.PLATFORM or bld.env.PROJECTS:
		bld.m['OpenGL'] = module.util('OpenGL', [], '3rdparty', module.coptions(), module.coptions(libs=bld.env.GL))
	else:
		bld.m['OpenGL'] = None

